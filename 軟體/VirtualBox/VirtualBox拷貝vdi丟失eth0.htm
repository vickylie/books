<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Language" content="zh-tw" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  </head>
  <body>
    
        <h1><strong>/etc/udev/rules.d/70-persistent-net.rules</strong>這個文件是在網卡有變動的時候才會變化的，里面記錄著網卡的信息，雖然VBoxManage會為new.vdi創建新的網卡，但是debian的行為是把這個網卡作為新增的網卡記錄在<strong>/etc/udev/rules.d/70-persistent-net.rules</strong>中，而沒有進行調整，所以使用的還是有沖突的eth0。﻿</h1>
        <p style="border-style: initial; border-color: initial; outline-width: 0px; outline-style: initial; outline-color: initial; vertical-align: baseline; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; margin-top: 1px; margin-right: 0px; margin-bottom: 15px; margin-left: 0px; font-size: 1.2em; background-position: initial initial; background-repeat: initial initial; border-width: 0px; padding: 2px;">天用VirtualBox的工具去拷貝虛擬機vdi文件的時候，在拷貝出來的vdi文件中找不到eth0。</p>
        <div id="highlighter_439279" class="syntaxhighlighter" style="border-style: initial !important; border-color: initial !important; outline-width: 0px !important; outline-style: initial !important; outline-color: initial !important; vertical-align: baseline !important; background-image: none !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; background-color: #ffffff !important; margin-top: 1em !important; margin-right: 0px !important; margin-bottom: 1em !important; margin-left: 0px !important; text-align: left !important; float: none !important; position: relative !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 705px; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-weight: normal !important; font-style: normal !important; font-size: 1em !important; background-position: initial initial !important; background-repeat: initial initial !important; border-width: 0px !important; padding: 1px !important;">
        <div class="lines" style="border-style: initial !important; border-color: initial !important; outline-width: 0px !important; outline-style: initial !important; outline-color: initial !important; vertical-align: baseline !important; background-image: none !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; background-color: initial !important; text-align: left !important; float: none !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-weight: normal !important; font-style: normal !important; font-size: 1em !important; background-position: initial initial !important; background-repeat: initial initial !important; border-width: 0px !important; padding: 0px !important; margin: 0px !important;">
        <div class="line alt1" style="border-style: initial !important; border-color: initial !important; outline-width: 0px !important; outline-style: initial !important; outline-color: initial !important; vertical-align: baseline !important; background-image: none !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; background-color: #ffffff !important; text-align: left !important; float: none !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-weight: normal !important; font-style: normal !important; font-size: 1em !important; background-position: initial initial !important; background-repeat: initial initial !important; border-width: 0px !important; padding: 0px !important; margin: 0px !important;">
        <table style="border-style: initial !important; border-color: initial !important; outline-width: 0px !important; outline-style: initial !important; outline-color: initial !important; vertical-align: baseline !important; background-image: none !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; background-color: initial !important; text-align: left !important; float: none !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-weight: normal !important; font-style: normal !important; font-size: 1em !important; border-collapse: collapse !important; background-position: initial initial !important; background-repeat: initial initial !important; border-width: 0px !important; padding: 0px !important; margin: 0px !important;">
        <tbody style="border-style: initial !important; border-color: initial !important; outline-width: 0px !important; outline-style: initial !important; outline-color: initial !important; vertical-align: baseline !important; background-image: none !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; background-color: initial !important; text-align: left !important; float: none !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-weight: normal !important; font-style: normal !important; font-size: 1em !important; background-position: initial initial !important; background-repeat: initial initial !important; border-width: 0px !important; padding: 0px !important; margin: 0px !important;">
        <tr style="border-style: initial !important; border-color: initial !important; outline-width: 0px !important; outline-style: initial !important; outline-color: initial !important; vertical-align: baseline !important; background-image: none !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; background-color: initial !important; text-align: left !important; float: none !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-weight: normal !important; font-style: normal !important; font-size: 1em !important; background-position: initial initial !important; background-repeat: initial initial !important; border-width: 0px !important; padding: 0px !important; margin: 0px !important;">
        <td class="number" style="border-style: initial !important; border-color: initial !important; outline-width: 0px !important; outline-style: initial !important; outline-color: initial !important; vertical-align: top !important; background-image: none !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; background-color: initial !important; text-align: left !important; float: none !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-weight: normal !important; font-style: normal !important; font-size: 1em !important; color: #afafaf !important; background-position: initial initial !important; background-repeat: initial initial !important; border-width: 0px !important; padding: 0px !important; margin: 0px !important;"><code style="border-style: initial !important; border-color: initial !important; outline-width: 0px !important; outline-style: initial !important; outline-color: initial !important; vertical-align: baseline !important; background-image: none !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; background-color: initial !important; padding-top: 0px !important; padding-right: 0.3em !important; padding-bottom: 0px !important; padding-left: 0px !important; text-align: right !important; float: none !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 2.7em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-weight: normal !important; font-style: normal !important; font-size: 1em !important; display: block !important; background-position: initial initial !important; background-repeat: initial initial !important; border-width: 0px !important; margin: 0px !important;">1</code></td>
        <td class="content" style="border-top-width: 0px !important; border-right-width: 0px !important; border-bottom-width: 0px !important; border-left-width: 3px !important; border-style: initial !important; border-color: initial !important; outline-width: 0px !important; outline-style: initial !important; outline-color: initial !important; vertical-align: top !important; background-image: none !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; background-color: initial !important; padding-top: 0px !important; padding-right: 0px !important; padding-bottom: 0px !important; padding-left: 0.5em !important; text-align: left !important; float: none !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-weight: normal !important; font-style: normal !important; font-size: 1em !important; border-left-style: solid !important; border-left-color: #6ce26c !important; color: #000000 !important; background-position: initial initial !important; background-repeat: initial initial !important; margin: 0px !important;"><code class="comments" style="border-style: initial !important; border-color: initial !important; outline-width: 0px !important; outline-style: initial !important; outline-color: initial !important; vertical-align: baseline !important; background-image: none !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; background-color: initial !important; text-align: left !important; float: none !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-weight: normal !important; font-style: normal !important; font-size: 1em !important; color: #008200 !important; background-position: initial initial !important; background-repeat: initial initial !important; border-width: 0px !important; padding: 0px !important; margin: 0px !important;"># debian lenny</code></td>
        </tr>
        </tbody>
        </table>
        </div>
        <div class="line alt2" style="border-style: initial !important; border-color: initial !important; outline-width: 0px !important; outline-style: initial !important; outline-color: initial !important; vertical-align: baseline !important; background-image: none !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; background-color: #f8f8f8 !important; text-align: left !important; float: none !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-weight: normal !important; font-style: normal !important; font-size: 1em !important; background-position: initial initial !important; background-repeat: initial initial !important; border-width: 0px !important; padding: 0px !important; margin: 0px !important;">
        <table style="border-style: initial !important; border-color: initial !important; outline-width: 0px !important; outline-style: initial !important; outline-color: initial !important; vertical-align: baseline !important; background-image: none !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; background-color: initial !important; text-align: left !important; float: none !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-weight: normal !important; font-style: normal !important; font-size: 1em !important; border-collapse: collapse !important; background-position: initial initial !important; background-repeat: initial initial !important; border-width: 0px !important; padding: 0px !important; margin: 0px !important;">
        <tbody style="border-style: initial !important; border-color: initial !important; outline-width: 0px !important; outline-style: initial !important; outline-color: initial !important; vertical-align: baseline !important; background-image: none !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; background-color: initial !important; text-align: left !important; float: none !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-weight: normal !important; font-style: normal !important; font-size: 1em !important; background-position: initial initial !important; background-repeat: initial initial !important; border-width: 0px !important; padding: 0px !important; margin: 0px !important;">
        <tr style="border-style: initial !important; border-color: initial !important; outline-width: 0px !important; outline-style: initial !important; outline-color: initial !important; vertical-align: baseline !important; background-image: none !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; background-color: initial !important; text-align: left !important; float: none !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-weight: normal !important; font-style: normal !important; font-size: 1em !important; background-position: initial initial !important; background-repeat: initial initial !important; border-width: 0px !important; padding: 0px !important; margin: 0px !important;">
        <td class="number" style="border-style: initial !important; border-color: initial !important; outline-width: 0px !important; outline-style: initial !important; outline-color: initial !important; vertical-align: top !important; background-image: none !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; background-color: initial !important; text-align: left !important; float: none !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 3em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-weight: normal !important; font-style: normal !important; font-size: 1em !important; color: #afafaf !important; background-position: initial initial !important; background-repeat: initial initial !important; border-width: 0px !important; padding: 0px !important; margin: 0px !important;"><code style="border-style: initial !important; border-color: initial !important; outline-width: 0px !important; outline-style: initial !important; outline-color: initial !important; vertical-align: baseline !important; background-image: none !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; background-color: initial !important; padding-top: 0px !important; padding-right: 0.3em !important; padding-bottom: 0px !important; padding-left: 0px !important; text-align: right !important; float: none !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: 2.7em !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-weight: normal !important; font-style: normal !important; font-size: 1em !important; display: block !important; background-position: initial initial !important; background-repeat: initial initial !important; border-width: 0px !important; margin: 0px !important;">2</code></td>
        <td class="content" style="border-top-width: 0px !important; border-right-width: 0px !important; border-bottom-width: 0px !important; border-left-width: 3px !important; border-style: initial !important; border-color: initial !important; outline-width: 0px !important; outline-style: initial !important; outline-color: initial !important; vertical-align: top !important; background-image: none !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; background-color: initial !important; padding-top: 0px !important; padding-right: 0px !important; padding-bottom: 0px !important; padding-left: 0.5em !important; text-align: left !important; float: none !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-weight: normal !important; font-style: normal !important; font-size: 1em !important; border-left-style: solid !important; border-left-color: #6ce26c !important; color: #000000 !important; background-position: initial initial !important; background-repeat: initial initial !important; margin: 0px !important;"><code class="plain" style="border-style: initial !important; border-color: initial !important; outline-width: 0px !important; outline-style: initial !important; outline-color: initial !important; vertical-align: baseline !important; background-image: none !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; background-color: initial !important; text-align: left !important; float: none !important; position: static !important; left: auto !important; top: auto !important; right: auto !important; bottom: auto !important; height: auto !important; width: auto !important; line-height: 1.1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-weight: normal !important; font-style: normal !important; font-size: 1em !important; color: #000000 !important; background-position: initial initial !important; background-repeat: initial initial !important; border-width: 0px !important; padding: 0px !important; margin: 0px !important;">VBoxManage clonevdi old.vdi new.vdi</code></td>
        </tr>
        </tbody>
        </table>
        </div>
        </div>
        </div>
        <p style="border-style: initial; border-color: initial; outline-width: 0px; outline-style: initial; outline-color: initial; vertical-align: baseline; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; margin-top: 1px; margin-right: 0px; margin-bottom: 15px; margin-left: 0px; font-size: 1.2em; background-position: initial initial; background-repeat: initial initial; border-width: 0px; padding: 2px;">拷貝成功，但當打開new.vdi的時候就出現eth0找不到了。原來是使用VBoxManage的時候不但會為新的vdi文件產出新的UUID，還會為其分配一個新的mac地址，以避免沖突，這樣在debian中就會把新的mac地址設置為eth1，結果就杯具了。</p>
        <p style="border-style: initial; border-color: initial; outline-width: 0px; outline-style: initial; outline-color: initial; vertical-align: baseline; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; margin-top: 1px; margin-right: 0px; margin-bottom: 15px; margin-left: 0px; font-size: 1.2em; background-position: initial initial; background-repeat: initial initial; border-width: 0px; padding: 2px;">解決方法有2個，其實差不多：</p>
        <ul style="border-style: initial; border-color: initial; outline-width: 0px; outline-style: initial; outline-color: initial; vertical-align: baseline; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; margin-top: 15px; margin-right: 30px; margin-bottom: 15px; margin-left: 30px; font-size: 12px; z-index: 40; background-position: initial initial; background-repeat: initial initial; border-width: 0px; padding: 0px;">
        <li style="border-style: initial; border-color: initial; outline-width: 0px; outline-style: initial; outline-color: initial; vertical-align: baseline; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; margin-top: 0px; margin-right: 0px; margin-bottom: 4px; margin-left: 0px; list-style-type: circle; list-style-position: initial; list-style-image: initial; background-position: initial initial; background-repeat: initial initial; border-width: 0px; padding: 0px;">在new.vdi中，修改<strong style="border-style: initial; border-color: initial; outline-width: 0px; outline-style: initial; outline-color: initial; vertical-align: baseline; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; background-position: initial initial; background-repeat: initial initial; border-width: 0px; padding: 0px; margin: 0px;">/etc/udev/rules.d/70-persistent-net.rules</strong>，一般會有eth0和eth1兩行，把eth0那行去掉，然后將eth1改成eth0。</li>
        <li style="border-style: initial; border-color: initial; outline-width: 0px; outline-style: initial; outline-color: initial; vertical-align: baseline; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; margin-top: 0px; margin-right: 0px; margin-bottom: 4px; margin-left: 0px; list-style-type: circle; list-style-position: initial; list-style-image: initial; background-position: initial initial; background-repeat: initial initial; border-width: 0px; padding: 0px;">把<strong style="border-style: initial; border-color: initial; outline-width: 0px; outline-style: initial; outline-color: initial; vertical-align: baseline; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; background-position: initial initial; background-repeat: initial initial; border-width: 0px; padding: 0px; margin: 0px;">/etc/udev/rules.d/70-persistent-net.rules</strong>中的內容直接刪除，然后重啟，讓系統自動去檢測網卡，然后重新生成該文件。其實在copy之前就可以刪掉了，這樣所有copy出來的都不用修改了，讓系統自己去檢測。</li>
        </ul>

  </body>
</html>